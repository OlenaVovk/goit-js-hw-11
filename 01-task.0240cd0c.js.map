{"mappings":"iiBACA,IAMIA,EANJC,EAAAC,EAAA,S,uCAIIC,EAAO,EACPC,EAAc,GAKZC,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,YAC/BE,EAAUH,SAASC,cAAc,cACjCG,EAAYJ,SAASC,cAAc,Y,SA4B1BI,EAAWC,G,OAAXC,EAASC,MAAAC,KAAAC,U,UAATH,I,OAAAA,EAAfI,EAAAhB,EAAA,CAAAgB,EAAAC,GAAAC,MAAA,SAAAC,EAA0BR,G,IAEhBS,E,2FAAaC,EAAAC,SAAaX,EAAKT,G,UAA/BkB,EAAIG,EAAAC,KACVzB,EAAM0B,KAAKC,KAAKN,EAAKO,UApCR,IAsCY,IAArBP,EAAKQ,KAAKC,OAAY,C,uBACxBb,EAAAc,GAASC,OAAOC,QAAQ,4EACxBzB,EAAM0B,UAAY,GAClBzB,EAAQ0B,UAAUC,IAAI,mBACtB1B,EAAUyB,UAAUC,IAAI,mB,2BAIb,IAATjC,GACFc,EAAAc,GAASC,OAAOK,QAAQ,oBAAmCC,OAAfjB,EAAKO,UAAU,aAC3DW,EAAalB,EAAKQ,MAClBpB,EAAQ0B,UAAUK,OAAO,mBACzB9B,EAAUyB,UAAUC,IAAI,oBAExBK,EAAUpB,EAAKQ,MAGb1B,IAASH,IACbS,EAAQ0B,UAAUC,IAAI,mBACtB1B,EAAUyB,UAAUK,OAAO,oB,kDAK3BE,QAAQC,IAAK,iBAA4BnB,EAAAoB,GAAMC,SAC/C5B,EAAAc,GAASC,OAAOC,QAAQ,gD,2DA9BJnB,MAAAC,KAAAC,U,CAkCxB,SAAS8B,EAAWzB,GAClB,OAAOA,EAAK0B,KAAI,SAAAC,G,IAAEC,EAAYD,EAAZC,aAAcC,EAAaF,EAAbE,cAAeC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAAKL,EAALK,MAAOC,EAAQN,EAARM,SAAUC,EAASP,EAATO,U,MAC7E,gEAC2EjB,OAAxCY,EAAc,4BAAgDZ,OAAtBW,EAAa,WAE1BX,OAFmCa,EAAK,uHAGxCb,OADAc,EAAM,+EAEHd,OADHe,EAAM,kFAEFf,OADDgB,EAAS,mFACEhB,OAAViB,EAAU,0C,IAEjEC,KAAK,G,CAGlB,SAASf,EAAUpB,GACjBb,EAAMiD,mBAAmB,YAAaX,EAAWzB,G,CAGnD,SAASkB,EAAalB,GACpBb,EAAM0B,UAAYY,EAAWzB,E,CA9E/BhB,EAAKqD,iBAAiB,UAGtB,SAAmBC,GAIjB,GAHAA,EAAIC,iBACJzD,EAAO,EAEa,MADpBC,EAAcuD,EAAIE,cAAcC,SAASC,YAAYC,OAInD,OAFAxD,EAAM0B,UAAY,GAClBzB,EAAQ0B,UAAUC,IAAI,mBACfnB,EAAAc,GAASC,OAAOC,QAAQ,wCAEjCtB,EAAUP,GACVuD,EAAIE,cAAcI,O,IAZpBxD,EAAQiD,iBAAiB,SAezB,YACEvD,GAAO,KACMH,IACXS,EAAQ0B,UAAUC,IAAI,mBACtB1B,EAAUyB,UAAUK,OAAO,oBAE7B7B,EAAUP,E","sources":["src/js/01-task.js"],"sourcesContent":["\nimport '../css/styles.css';\nimport Notiflix from 'notiflix';\nimport * as API from './fetchAPI'\n\nlet page = 1;\nlet searchQuery = '';\nlet max;\n\nconst PAGE_SET = 40;\n\nconst form = document.querySelector('form');\nconst divEl = document.querySelector('.gallery');\nconst loadBtn = document.querySelector('.load-more');\nconst messageEl = document.querySelector('.message');\n\nform.addEventListener('submit', onSubmit);\nloadBtn.addEventListener('click', onClick);\n\nfunction onSubmit (evt) {\n  evt.preventDefault();\n  page = 1;\n  searchQuery = evt.currentTarget.elements.searchQuery.value\n  if (searchQuery === '') {\n    divEl.innerHTML = '';\n    loadBtn.classList.add('visually-hidden');\n    return Notiflix.Notify.failure('Введіть будь ласка текст для пошуку!');   \n  }\n  fetchData(searchQuery);\n  evt.currentTarget.reset();\n}\n\nfunction onClick () {\n  page +=1; \n  if (page === max) {\n    loadBtn.classList.add('visually-hidden');\n    messageEl.classList.remove('visually-hidden');\n  }\n  fetchData(searchQuery);\n}\n\n\nasync function fetchData (res) {\n  try {\n    const data = await API.fetchAPI(res, page);\n    max = Math.ceil(data.totalHits/PAGE_SET);\n    \n    if (data.hits.length === 0) {\n      Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n      divEl.innerHTML = '';\n      loadBtn.classList.add('visually-hidden');\n      messageEl.classList.add('visually-hidden');\n      return;\n    }\n    \n    if (page === 1) {\n      Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`); \n      insertImages(data.hits);\n      loadBtn.classList.remove('visually-hidden');\n      messageEl.classList.add('visually-hidden');\n    } else {\n      addImages(data.hits);\n    }\n\n    if (page === max) {\n    loadBtn.classList.add('visually-hidden');\n    messageEl.classList.remove('visually-hidden');\n    }\n  } \n  \n  catch (error) {\n    console.log ('Oй помилочка: ', error.message);\n    Notiflix.Notify.failure('Упсс щось пішло не так... Спробуйте пізніше!');\n  }\n}\n\nfunction makeMarkup(data) {\n  return data.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => \n  `<div class=\"photo-card\">\n    <a class=\"gallery__item\" href=\"${largeImageURL}\"><img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" /></a>\n        <div class=\"info\">\n          <p class=\"info-item\"><span><b>Likes</b></span><span>${likes}</span></p>\n          <p class=\"info-item\"><span><b>Views</b></span><span>${views}</span></p>\n          <p class=\"info-item\"><span><b>Comments</b></span><span>${comments}</span></p>\n          <p class=\"info-item\"><span><b>Downloads</b></span><span>${downloads}</span></p>\n        </div>\n    </div>`).join('');   \n}\n\nfunction addImages(data) {\n  divEl.insertAdjacentHTML('beforeend', makeMarkup(data));\n}\n\nfunction insertImages(data) {\n  divEl.innerHTML = makeMarkup(data);\n}\n\n//let gallery = new SimpleLightbox('.gallery a', {\n//    widthRatio: 0.6,\n//    heightRatio: 0.6,\n//});\n\n\n\n"],"names":["$081753161ccb83ef$var$max","$bpxeT","parcelRequire","$081753161ccb83ef$var$page","$081753161ccb83ef$var$searchQuery","$081753161ccb83ef$var$form","document","querySelector","$081753161ccb83ef$var$divEl","$081753161ccb83ef$var$loadBtn","$081753161ccb83ef$var$messageEl","$081753161ccb83ef$var$fetchData","res","$081753161ccb83ef$var$_fetchData","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","$lbRHt","fetchAPI","_ctx","sent","Math","ceil","totalHits","hits","length","$iU1Pc","Notify","failure","innerHTML","classList","add","success","concat","$081753161ccb83ef$var$insertImages","remove","$081753161ccb83ef$var$addImages","console","log","t0","message","$081753161ccb83ef$var$makeMarkup","map","param","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","evt","preventDefault","currentTarget","elements","searchQuery","value","reset"],"version":3,"file":"01-task.0240cd0c.js.map"}