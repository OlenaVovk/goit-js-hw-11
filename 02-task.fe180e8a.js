!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=r.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,r.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){n[e]=r},r.parcelRequired7c6=i);var o,a,s,l=i("bpxeT"),u=i("2TvXO"),c=i("iU1Pc"),d=i("lbRHt"),f=i("5118m"),h="",p=document.querySelector("form"),y=document.querySelector(".gallery"),g=document.querySelector(".message"),v=document.querySelector(".js-guard"),m=new IntersectionObserver((function(e,r){e.forEach((function(e){h&&e.isIntersecting&&(o+=1,b(h))}))}),{root:null,rootMargin:"600px",threshold:1});function b(e){return w.apply(this,arguments)}function w(){return(w=e(l)(e(u).mark((function r(t){var n;return e(u).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d.fetchAPI(t,o);case 3:if(n=r.sent,a=Math.ceil(n.totalHits/40),n.hits.length){r.next=10;break}return e(c).Notify.failure("Sorry, there are no images matching your search query. Please try again."),y.innerHTML="",g.classList.add("visually-hidden"),r.abrupt("return");case 10:1===o?(e(c).Notify.success("Hooray! We found ".concat(n.totalHits," images.")),y.innerHTML=(0,f.makeMarkup)(n.hits),s=new SimpleLightbox(".gallery a"),m.observe(v),g.classList.add("visually-hidden")):(y.insertAdjacentHTML("beforeend",(0,f.makeMarkup)(n.hits)),s.refresh()),o===a&&(g.classList.remove("visually-hidden"),m.unobserve(v)),r.next=18;break;case 14:r.prev=14,r.t0=r.catch(0),console.log("Oй помилочка: ",r.t0.message),e(c).Notify.failure("Упсс щось пішло не так... Спробуйте пізніше!");case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))).apply(this,arguments)}p.addEventListener("submit",(function(r){if(r.preventDefault(),h=r.currentTarget.elements.searchQuery.value,o=1,!h)return y.innerHTML="",void e(c).Notify.failure("Введіть будь ласка текст для пошуку!");h&&b(h);r.currentTarget.reset()})),document.addEventListener("scroll",(function(){var e=y.firstElementChild.getBoundingClientRect().height;window.scrollBy({top:2*e,behavior:"smooth"})}))}();
//# sourceMappingURL=02-task.fe180e8a.js.map
