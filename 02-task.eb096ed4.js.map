{"mappings":"iiBAAA,IAMIA,EANJC,EAAAC,EAAA,S,uCAIIC,EAAO,EACPC,EAAc,GAKZC,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,YAC/BE,EAAYH,SAASC,cAAc,Y,SAgC1BG,I,OAAAA,EAAfC,EAAAV,EAAA,CAAAU,EAAAC,GAAAC,MAAA,SAAAC,EAA0BC,G,IAEhBC,E,2FAAaC,EAAAC,SAAaH,EAAKZ,G,UAEZ,KAFnBa,EAAIG,EAAAC,MAEDC,KAAKC,OAAY,C,sBACxBX,EAAAY,GAASC,OAAOC,QAAQ,4EACxBjB,EAAMkB,UAAY,GAClBjB,EAAUkB,UAAUC,IAAI,mB,0BAIb,IAATzB,GACFQ,EAAAY,GAASC,OAAOK,QAAQ,oBAAmCC,OAAfd,EAAKe,UAAU,aAC3DC,EAAahB,EAAKK,MAClBZ,EAAUkB,UAAUC,IAAI,oBAExBK,EAAUjB,EAAKK,MAGblB,IAASH,GACbS,EAAUkB,UAAUO,OAAO,mB,kDAK3BC,QAAQC,IAAK,iBAA4BjB,EAAAkB,GAAMC,SAC/C3B,EAAAY,GAASC,OAAOC,QAAQ,gD,2DA1BJc,MAAAC,KAAAC,U,CA8BxB,SAASC,EAAW1B,GAClB,OAAOA,EAAK2B,KAAI,SAAAC,G,IAAEC,EAAYD,EAAZC,aAAcC,EAAaF,EAAbE,cAAeC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAAKL,EAALK,MAAOC,EAAQN,EAARM,SAAUC,EAASP,EAATO,U,MAC7E,gEAC2ErB,OAAxCgB,EAAc,4BAAgDhB,OAAtBe,EAAa,WAE1Bf,OAFmCiB,EAAK,uHAGxCjB,OADAkB,EAAM,+EAEHlB,OADHmB,EAAM,kFAEFnB,OADDoB,EAAS,mFACEpB,OAAVqB,EAAU,0C,IAEjEC,KAAK,G,CAGlB,SAASnB,EAAUjB,GACjBR,EAAM6C,mBAAmB,YAAaX,EAAW1B,G,CAGnD,SAASgB,EAAahB,GACpBR,EAAMkB,UAAYgB,EAAW1B,E,CA9E/BX,EAAKiD,iBAAiB,UAGtB,SAAmBC,GAIjB,GAHAA,EAAIC,iBACJrD,EAAO,EAEa,MADpBC,EAAcmD,EAAIE,cAAcC,SAASC,YAAYC,OAGnD,OADApD,EAAMkB,UAAY,GACXf,EAAAY,GAASC,OAAOC,QAAQ,yC,SAqBTV,GAAXL,EAAS6B,MAAAC,KAAAC,U,EAnBtBoB,CAAUzD,GACVmD,EAAIE,cAAcK,O,IAXpBxD,SAASgD,iBAAiB,UAe1B,WACE,IAAQS,EAAuBzD,SAC9BC,cAAc,YACdyD,kBAAkBC,wBAFXC,OAIVC,OAAOC,SAAS,CACdC,IAAkB,EAAbN,EACLO,SAAU,U","sources":["src/js/02-task.js"],"sourcesContent":["import '../css/styles.css';\nimport Notiflix from 'notiflix';\nimport * as API from './fetchAPI'\n\nlet page = 1;\nlet searchQuery = '';\nlet max;\n\nconst PAGE_SET = 40;\n\nconst form = document.querySelector('form');\nconst divEl = document.querySelector('.gallery');\nconst messageEl = document.querySelector('.message');\n\nform.addEventListener('submit', onSubmit);\ndocument.addEventListener('scroll', updateImg);\n\nfunction onSubmit (evt) {\n  evt.preventDefault();\n  page = 1;\n  searchQuery = evt.currentTarget.elements.searchQuery.value\n  if (searchQuery === '') {\n    divEl.innerHTML = '';\n    return Notiflix.Notify.failure('Введіть будь ласка текст для пошуку!');   \n  }\n  fetchData(searchQuery);\n  evt.currentTarget.reset();\n}\n\n\nfunction updateImg() {\n  const { height: cardHeight } = document\n  .querySelector(\".gallery\")\n  .firstElementChild.getBoundingClientRect();\n\nwindow.scrollBy({\n  top: cardHeight * 2,\n  behavior: \"smooth\",\n});\n}\n\n\n\n\nasync function fetchData (res) {\n  try {\n    const data = await API.fetchAPI(res, page);\n    \n    if (data.hits.length === 0) {\n      Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n      divEl.innerHTML = '';\n      messageEl.classList.add('visually-hidden');\n      return;\n    }\n    \n    if (page === 1) {\n      Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`); \n      insertImages(data.hits);\n      messageEl.classList.add('visually-hidden');\n    } else {\n      addImages(data.hits);\n    }\n\n    if (page === max) {\n    messageEl.classList.remove('visually-hidden');\n    }\n  } \n  \n  catch (error) {\n    console.log ('Oй помилочка: ', error.message);\n    Notiflix.Notify.failure('Упсс щось пішло не так... Спробуйте пізніше!');\n  }\n}\n\nfunction makeMarkup(data) {\n  return data.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => \n  `<div class=\"photo-card\">\n    <a class=\"gallery__item\" href=\"${largeImageURL}\"><img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" /></a>\n        <div class=\"info\">\n          <p class=\"info-item\"><span><b>Likes</b></span><span>${likes}</span></p>\n          <p class=\"info-item\"><span><b>Views</b></span><span>${views}</span></p>\n          <p class=\"info-item\"><span><b>Comments</b></span><span>${comments}</span></p>\n          <p class=\"info-item\"><span><b>Downloads</b></span><span>${downloads}</span></p>\n        </div>\n    </div>`).join('');   \n}\n\nfunction addImages(data) {\n  divEl.insertAdjacentHTML('beforeend', makeMarkup(data));\n}\n\nfunction insertImages(data) {\n  divEl.innerHTML = makeMarkup(data);\n}"],"names":["$6c6945dbdc778097$var$max","$bpxeT","parcelRequire","$6c6945dbdc778097$var$page","$6c6945dbdc778097$var$searchQuery","$6c6945dbdc778097$var$form","document","querySelector","$6c6945dbdc778097$var$divEl","$6c6945dbdc778097$var$messageEl","$6c6945dbdc778097$var$_fetchData","$parcel$interopDefault","$2TvXO","mark","_callee","res","data","$lbRHt","fetchAPI","_ctx","sent","hits","length","$iU1Pc","Notify","failure","innerHTML","classList","add","success","concat","totalHits","$6c6945dbdc778097$var$insertImages","$6c6945dbdc778097$var$addImages","remove","console","log","t0","message","apply","this","arguments","$6c6945dbdc778097$var$makeMarkup","map","param","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","evt","preventDefault","currentTarget","elements","searchQuery","value","$6c6945dbdc778097$var$fetchData","reset","cardHeight","firstElementChild","getBoundingClientRect","height","window","scrollBy","top","behavior"],"version":3,"file":"02-task.eb096ed4.js.map"}