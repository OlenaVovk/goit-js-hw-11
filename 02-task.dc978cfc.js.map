{"mappings":"mjBAIA,IAAIA,EAAO,EACPC,EAAc,GAGlB,MAEMC,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,YAC/BE,EAAYH,SAASC,cAAc,YA8DzC,SAASG,EAAWC,GAClB,OAAOA,EAAKC,KAAI,EAACC,aAACA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAC7E,gEACmCL,4BAAwCD,WAAsBE,uHAEnCC,+EACAC,kFACGC,mFACCC,6CAEvDC,KAAK,G,CAtElBf,EAAKgB,iBAAiB,UAGtB,SAAmBC,GAIjB,GAHAA,EAAIC,iBACJpB,EAAO,EACPC,EAAckB,EAAIE,cAAcC,SAASC,YAAYC,MACjC,KAAhBvB,EAEF,OADAI,EAAMoB,UAAY,GACXC,EAAAC,GAASC,OAAOC,QAAQ,yCAqBnCC,eAA0BC,GACxB,IACE,MAAMvB,QAAawB,EAAAC,SAAaF,EAAK/B,GAErC,GAAyB,IAArBQ,EAAK0B,KAAKC,OAIZ,OAHAT,EAAAC,GAASC,OAAOC,QAAQ,4EACxBxB,EAAMoB,UAAY,QAClBnB,EAAU8B,UAAUC,IAAI,mBAIb,IAATrC,GACF0B,EAAAC,GAASC,OAAOU,QAAQ,oBAAoB9B,EAAK+B,qBAmCvD,SAAsB/B,GACpBH,EAAMoB,UAAYlB,EAAWC,E,CAnCzBgC,CAAahC,EAAK0B,MAClB5B,EAAU8B,UAAUC,IAAI,oBA6B9B,SAAmB7B,GACjBH,EAAMoC,mBAAmB,YAAalC,EAAWC,G,CA5B7CkC,CAAUlC,EAAK0B,MAtDjBS,YAyDI3C,GACJM,EAAU8B,UAAUQ,OAAO,kB,CAI7B,MAAOC,GACLC,QAAQC,IAAK,iBAA4BF,EAAMG,SAC/CtB,EAAAC,GAASC,OAAOC,QAAQ,+C,GA7C1BoB,CAAUhD,GACVkB,EAAIE,cAAc6B,O,IAXpB/C,SAASe,iBAAiB,UAe1B,WACE,MAAQiC,OAAQC,GAAejD,SAC9BC,cAAc,YACdiD,kBAAkBC,wBAErBC,OAAOC,SAAS,CACdC,IAAkB,EAAbL,EACLM,SAAU,U","sources":["src/js/02-task.js"],"sourcesContent":["import '../css/styles.css';\nimport Notiflix from 'notiflix';\nimport * as API from './fetchAPI'\n\nlet page = 1;\nlet searchQuery = '';\nlet max;\n\nconst PAGE_SET = 40;\n\nconst form = document.querySelector('form');\nconst divEl = document.querySelector('.gallery');\nconst messageEl = document.querySelector('.message');\n\nform.addEventListener('submit', onSubmit);\ndocument.addEventListener('scroll', updateImg);\n\nfunction onSubmit (evt) {\n  evt.preventDefault();\n  page = 1;\n  searchQuery = evt.currentTarget.elements.searchQuery.value\n  if (searchQuery === '') {\n    divEl.innerHTML = '';\n    return Notiflix.Notify.failure('Введіть будь ласка текст для пошуку!');   \n  }\n  fetchData(searchQuery);\n  evt.currentTarget.reset();\n}\n\n\nfunction updateImg() {\n  const { height: cardHeight } = document\n  .querySelector(\".gallery\")\n  .firstElementChild.getBoundingClientRect();\n\nwindow.scrollBy({\n  top: cardHeight * 2,\n  behavior: \"smooth\",\n});\n}\n\n\n\n\nasync function fetchData (res) {\n  try {\n    const data = await API.fetchAPI(res, page);\n    \n    if (data.hits.length === 0) {\n      Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n      divEl.innerHTML = '';\n      messageEl.classList.add('visually-hidden');\n      return;\n    }\n    \n    if (page === 1) {\n      Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`); \n      insertImages(data.hits);\n      messageEl.classList.add('visually-hidden');\n    } else {\n      addImages(data.hits);\n    }\n\n    if (page === max) {\n    messageEl.classList.remove('visually-hidden');\n    }\n  } \n  \n  catch (error) {\n    console.log ('Oй помилочка: ', error.message);\n    Notiflix.Notify.failure('Упсс щось пішло не так... Спробуйте пізніше!');\n  }\n}\n\nfunction makeMarkup(data) {\n  return data.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => \n  `<div class=\"photo-card\">\n    <a class=\"gallery__item\" href=\"${largeImageURL}\"><img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" /></a>\n        <div class=\"info\">\n          <p class=\"info-item\"><span><b>Likes</b></span><span>${likes}</span></p>\n          <p class=\"info-item\"><span><b>Views</b></span><span>${views}</span></p>\n          <p class=\"info-item\"><span><b>Comments</b></span><span>${comments}</span></p>\n          <p class=\"info-item\"><span><b>Downloads</b></span><span>${downloads}</span></p>\n        </div>\n    </div>`).join('');   \n}\n\nfunction addImages(data) {\n  divEl.insertAdjacentHTML('beforeend', makeMarkup(data));\n}\n\nfunction insertImages(data) {\n  divEl.innerHTML = makeMarkup(data);\n}"],"names":["$4a36cbd4de2d2245$var$page","$4a36cbd4de2d2245$var$searchQuery","$4a36cbd4de2d2245$var$form","document","querySelector","$4a36cbd4de2d2245$var$divEl","$4a36cbd4de2d2245$var$messageEl","$4a36cbd4de2d2245$var$makeMarkup","data","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","addEventListener","evt","preventDefault","currentTarget","elements","searchQuery","value","innerHTML","$parcel$interopDefault","$eWCmQ","Notify","failure","async","res","$cqGDw","fetchAPI","hits","length","classList","add","success","totalHits","$4a36cbd4de2d2245$var$insertImages","insertAdjacentHTML","$4a36cbd4de2d2245$var$addImages","$4a36cbd4de2d2245$var$max","remove","error","console","log","message","$4a36cbd4de2d2245$var$fetchData","reset","height","cardHeight","firstElementChild","getBoundingClientRect","window","scrollBy","top","behavior"],"version":3,"file":"02-task.dc978cfc.js.map"}